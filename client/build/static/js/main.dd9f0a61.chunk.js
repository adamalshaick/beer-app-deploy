(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,n){e.exports=n(87)},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),s=n.n(o),i=n(14),c=n(17),l=n(4),u=n(5),p=n(7),m=n(6),b=n(8),d=n(11),h=n(1),f=n(2);function v(){var e=Object(h.a)(["\n  padding: 1rem;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.25);\n  background-color: ",";\n  color: ",";\n  position: absolute;\n  top: 120px;\n  right: 100px;\n  border-radius: 0.75rem;\n  visibility: ",";\n  opacity: ",";\n  transition: all 0.25s;\n  z-index: 4;\n"]);return v=function(){return e},e}var g=f.a.div(v(),function(e){return e.dark?"#1f2427":"whitesmoke"},function(e){return e.dark?"whitesmoke":"black"},function(e){return e.showOptions?"visible":"hidden"},function(e){return e.showOptions?"1":"0"}),O=function(e){var t=e.name,n=e.value,r=e.onChange,o=e.options.map(function(e){return a.a.createElement("option",{key:e.label,value:e.value},e.label)});return a.a.createElement("select",{className:"form-control",name:t,value:n,onChange:r},o)},w=[{label:"name",value:"name"},{label:"price",value:"price"},{label:"type",value:"type"}],y=[{label:"15",value:15},{label:"30",value:30},{label:"45",value:45},{label:"60",value:60}],E=n(3),k=n.n(E);function j(){var e=Object(h.a)(["\n  background-color: ",";\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]);return j=function(){return e},e}function N(){var e=Object(h.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%);\n  font-size: 4rem;\n  opacity: 0.5;\n  color: ",";\n  animation: load 1.5s infinite;\n  @keyframes load {\n    0% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 0.5;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"]);return N=function(){return e},e}var S=f.a.div(N(),function(e){return e.dark?"white":"black"}),B=f.a.div(j(),function(e){return e.dark?"#1f2427":"whitesmoke"}),x=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(p.a)(this,Object(m.a)(t).call(this,e));var r=JSON.parse(localStorage.getItem("settings"));return n.state={darkMode:r.darkMode},n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(B,{dark:this.state.darkMode},a.a.createElement(S,{dark:this.state.darkMode},"..."))}}]),t}(r.Component),C=function(e){var t=function(t){function n(){return Object(l.a)(this,n),Object(p.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(b.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){return this.props.options?a.a.createElement(e,this.props):a.a.createElement(x,null)}}]),n}(r.Component);e.propTypes={options:k.a.object.isRequired};return Object(d.b)(function(e){return{options:e.options}})(t)};function M(){var e=Object(h.a)(["\n  position: absolute;\n  top: 50px;\n  right: 100px;\n"]);return M=function(){return e},e}var I=f.a.button(M()),_=n(40),D=n.n(_),T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggleDarkMode=function(){n.setState(n.setState(function(e){return{darkMode:!e.darkMode}}),function(){var e=n.state,t=(e.showOptions,Object(c.a)(e,["showOptions"]));localStorage.setItem("settings",JSON.stringify(t)),n.props.changeOptions(JSON.parse(localStorage.getItem("settings")))})},n.onChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value),function(){var e=n.state,t=(e.showOptions,Object(c.a)(e,["showOptions"]));localStorage.setItem("settings",JSON.stringify(t)),n.props.changeOptions(JSON.parse(localStorage.getItem("settings")))})},n.state={showOptions:!1,darkMode:!1,loadNumber:15,sortOption:""},n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("settings"));if(t)this.setState(t,function(){var t=e.state,n=(t.showOptions,Object(c.a)(t,["showOptions"]));e.props.changeOptions(n)});else{var n=this.state,r=(n.showOptions,Object(c.a)(n,["showOptions"]));this.props.changeOptions(r)}}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(I,{className:D()("btn btn-lg btn-light",{"btn-dark":this.props.options.options.darkMode}),onClick:function(){e.setState(function(e){return{showOptions:!e.showOptions}})}},a.a.createElement("i",{className:"fas fa-cog"})," Options"),a.a.createElement(g,{dark:this.props.options.options.darkMode,showOptions:this.state.showOptions},a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row"},a.a.createElement("input",{style:{width:"20px",height:"20px"},name:"darkMode",type:"checkbox",checked:this.state.darkMode,onChange:this.toggleDarkMode}),a.a.createElement("p",null,"Dark mode")),a.a.createElement("div",{className:"row"},a.a.createElement("p",{style:{transform:"translateY(35%)"},className:"mr-2"},"Loaded elements:"),a.a.createElement(O,{name:"loadNumber",onChange:this.onChange,options:y,value:this.state.loadNumber})),a.a.createElement("div",{className:"row"},a.a.createElement("p",{style:{transform:"translateY(35%)"},className:"mr-2"},"Sort by:"),a.a.createElement(O,{name:"sortOption",onChange:this.onChange,options:w,value:this.state.sortOption})))))}}]),t}(r.Component),z=Object(d.b)(null,{changeOptions:function(e){return{type:"CHANGE_OPTIONS",payload:e}}})(C(T));function J(){var e=Object(h.a)(["\n  background-color: ",";\n  transition: background-color 0.4s;\n\n  width: 100vw;\n  height: 100vh;\n  overflow-x: hidden;\n"]);return J=function(){return e},e}function R(){var e=Object(h.a)(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]);return R=function(){return e},e}Object(f.b)(R());var F=f.a.div(J(),function(e){return e.dark?"#2b2e39":"white"}),G=n(26),X=n.n(G),q=n(41),L=n(42),U=n.n(L),P=function(){return function(){var e=Object(q.a)(X.a.mark(function e(t){var n;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/products");case 3:n=e.sent,t({type:"GET_BEERS",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"GET_BEERS",payload:null});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};function A(){var e=Object(h.a)(["\n  animation: "," 0.4s;\n  padding: 1rem;\n"]);return A=function(){return e},e}function H(){var e=Object(h.a)(["\n  background-color: ",";\n  color: ",";\n  transition: background-color 0.4s;\n  animation: "," 0.4s;\n  margin-top: 200px;\n  width: 100%;\n  border-radius: 12px;\n"]);return H=function(){return e},e}function V(){var e=Object(h.a)(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]);return V=function(){return e},e}var W=Object(f.b)(V()),Y=f.a.div(H(),function(e){return e.dark?"#1f2427":"whitesmoke"},function(e){return e.dark?"whitesmoke":"black"},W),$=f.a.div(A(),W);function K(){var e=Object(h.a)(["\n  border-radius: 20px;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n"]);return K=function(){return e},e}function Q(){var e=Object(h.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n  max-width: 350px;\n  max-height: 350px;\n"]);return Q=function(){return e},e}function Z(){var e=Object(h.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 100vw;\n  height: 100vh;\n  opacity: 0.5;\n  background-color: black;\n  z-index: 1;\n"]);return Z=function(){return e},e}var ee=f.a.div(Z()),te=f.a.img(Q()),ne=f.a.img(K()),re=n(43),ae=n.n(re),oe=function(e){var t,n=e.showImage,r=e.beer,o=e.onClick;return n&&(t=a.a.createElement("div",{key:r},a.a.createElement(ee,{onClick:o}),a.a.createElement(te,{src:r.image_url,onError:function(e){e.target.onerror=null,e.target.src="https://www.equiinzert.cz/gallery/inzeraty/no-image.png"},showImage:n}))),a.a.createElement(a.a.Fragment,null,a.a.createElement(ne,{showImage:n,src:r.image_url,onError:function(e){e.target.onerror=null,e.target.src="https://www.equiinzert.cz/gallery/inzeraty/no-image.png"},onClick:o}),a.a.createElement(ae.a,{transitionName:"fade"},t))},se=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={showImage:!1},n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.beer;return a.a.createElement($,{className:"row"},a.a.createElement("div",{className:"col-8"},a.a.createElement("strong",null,"name:")," ",t.name,a.a.createElement("br",null),a.a.createElement("strong",null,"type:")," ",t.type,a.a.createElement("br",null),a.a.createElement("strong",null,"price:")," ",t.price),a.a.createElement("div",{className:"col-4"},a.a.createElement(oe,{showImage:this.state.showImage,beer:t,onClick:function(){e.setState(function(e){return{showImage:!e.showImage}})}})))}}]),t}(r.Component),ie=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.beers!==this.props.beers||e.sortBy!==this.props.sortBy}},{key:"render",value:function(){return this.props.beers.map(function(e){return a.a.createElement(se,{beer:e})})}}]),t}(r.Component),ce=C(function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.onClick=function(e){e.preventDefault(),n.setState({loadMore:n.state.loadMore+1},function(){n.setState({beersByBrewer:n.state.beers.slice(0,n.props.options.options.loadNumber*n.state.loadMore)})})},n.state={selectedBrewer:"",sortBy:"name",beersByBrewer:[],beers:[],loadNumber:15,loadMore:1},n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("".concat(this.props.counter));if(e){var t=this.props.beers.filter(function(t){return t.brewer===e});this.setState({selectedBrewer:e,beers:t})}}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.selectedBrewer!==this.state.selectedBrewer){var r=this.props.beers.filter(function(e){return e.brewer===n.state.selectedBrewer});localStorage.setItem("".concat(this.props.counter),this.state.selectedBrewer),this.setState({beers:r,beersByBrewer:r.slice(0,this.state.loadNumber)})}t.loadNumber!==this.state.loadNumber&&this.setState({beersByBrewer:this.state.beers.slice(0,this.state.loadNumber),loadMore:1})}},{key:"render",value:function(){var e,t,n=this.props.brewers,r=this.props.options.options,o=n.map(function(e){return{label:e,value:e}});return o.unshift({label:"* select brewer",value:""}),a.a.createElement(Y,{dark:r.darkMode},a.a.createElement(O,{name:"selectedBrewer",options:o,onChange:this.onChange,value:this.state.selectedBrewer}),this.state.beersByBrewer&&this.state.beersByBrewer.length>0?a.a.createElement(ie,{beers:(e=this.state.beersByBrewer,t=this.state.sortBy,"name"===t?e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}):"type"===t?e.sort(function(e,t){return e.type<t.type?-1:e.type>t.type?1:0}):"price"===t?e.sort(function(e,t){return e.price-t.price}):void 0),sortBy:this.state.sortBy}):null,this.state.beers.length>this.state.loadNumber*this.state.loadMore?a.a.createElement("div",{className:"text-center"},a.a.createElement("button",{className:"btn btn-light",onClick:this.onClick},"Load More")):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.options.options.loadNumber&&parseInt(e.options.options.loadNumber,10)!==t.loadNumber?{loadNumber:parseInt(e.options.options.loadNumber,10)}:e.options.options.sortOption&&e.options.options.sortOption!==t.sortBy?{sortBy:e.options.options.sortOption}:null}}]),t}(r.Component)),le=function(e){var t=e.beer;return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-lg-4"},a.a.createElement(ce,{beers:t.beers,counter:"first",brewers:t.brewers})),a.a.createElement("div",{className:"col-lg-4"},a.a.createElement(ce,{beers:t.beers,counter:"second",brewers:t.brewers})),a.a.createElement("div",{className:"col-lg-4"},a.a.createElement(ce,{beers:t.beers,counter:"third",brewers:t.brewers}))))},ue=function(e){var t=function(t){function n(){return Object(l.a)(this,n),Object(p.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(b.a)(n,t),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getBeers()}},{key:"render",value:function(){return this.props.beer.beers?a.a.createElement(e,this.props):a.a.createElement(a.a.Fragment,null,a.a.createElement(x,null),";")}}]),n}(r.Component);return e.propTypes={beer:k.a.object.isRequired},Object(d.b)(function(e){return{beer:e.beer}},{getBeers:P})(t)}(C(function(e){var t=e.options,n=e.beer;return a.a.createElement(F,{dark:t.options.darkMode},a.a.createElement(z,null),a.a.createElement(le,{beer:n}))})),pe=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ue,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=n(12),be=n(44),de=n(45),he=n(19),fe={beers:null,brewers:[]},ve={options:{}},ge=Object(me.c)({beer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BEERS":return Object(he.a)({},e,{beers:t.payload,brewers:Object(de.a)(new Set(t.payload.map(function(e){return e.brewer})))});default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_OPTIONS":return Object(he.a)({},e,{options:t.payload});default:return e}}}),Oe=[be.a],we=Object(me.e)(ge,{},Object(me.d)(me.a.apply(void 0,Oe),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(a.a.createElement(d.a,{store:we},a.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.dd9f0a61.chunk.js.map